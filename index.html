<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JR Tech Ultimate | Multiverse Suite</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #030712;
            --card: rgba(255, 255, 255, 0.03);
            --text: #ffffff;
            --primary: #00f2ff;
            --secondary: #7000ff;
            --border: rgba(255, 255, 255, 0.08);
            --input-bg: rgba(0, 0, 0, 0.4);
        }

        [data-theme="light"] {
            --bg: #f8fafc;
            --card: rgba(255, 255, 255, 0.9);
            --text: #0f172a;
            --primary: #2563eb;
            --secondary: #7c3aed;
            --border: rgba(0, 0, 0, 0.05);
            --input-bg: #ffffff;
        }

        * { box-sizing: border-box; font-family: 'Outfit', sans-serif; transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1); }

        body {
            margin: 0; min-height: 100vh; background: var(--bg);
            display: flex; color: var(--text); overflow: hidden;
        }

        /* SIDEBAR DOCK */
        nav {
            width: 70px; background: var(--card); backdrop-filter: blur(20px);
            border-right: 1px solid var(--border); display: flex;
            flex-direction: column; align-items: center; padding: 20px 0; gap: 15px;
        }

        .nav-item {
            cursor: pointer; font-size: 20px; width: 45px; height: 45px;
            display: flex; align-items: center; justify-content: center;
            border-radius: 12px; opacity: 0.4;
        }

        .nav-item:hover { opacity: 1; background: rgba(255,255,255,0.05); }
        .nav-item.active { opacity: 1; background: linear-gradient(135deg, var(--primary), var(--secondary)); color: white; transform: scale(1.1); }

        /* CONTENT AREA */
        main { flex: 1; display: flex; flex-direction: column; position: relative; padding: 30px; align-items: center; overflow-y: auto; }

        .calc-card {
            width: 100%; max-width: 500px; background: var(--card);
            backdrop-filter: blur(40px); border: 1px solid var(--border);
            border-radius: 30px; padding: 30px; box-shadow: 0 40px 100px rgba(0,0,0,0.5);
        }

        .section { display: none; animation: fadeIn 0.4s ease forwards; }
        .section.active { display: block; }

        @keyframes fadeIn { from { opacity: 0; transform: scale(0.98); } to { opacity: 1; transform: scale(1); } }

        h1 { font-size: 24px; margin-bottom: 5px; background: linear-gradient(90deg, var(--primary), var(--secondary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        p { font-size: 13px; opacity: 0.6; margin-bottom: 25px; }

        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .full { grid-column: span 2; }

        input, select {
            width: 100%; padding: 12px; background: var(--input-bg); border: 1px solid var(--border);
            border-radius: 12px; color: var(--text); outline: none;
        }

        button {
            width: 100%; padding: 15px; margin-top: 15px; border-radius: 15px;
            border: none; background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white; font-weight: 600; cursor: pointer;
        }

        /* MINI GAMES UI */
        canvas { background: #000; border-radius: 15px; display: block; margin: 0 auto; max-width: 100%; }
        .game-ctrl { text-align: center; margin-top: 10px; font-size: 12px; color: var(--primary); }

        .theme-toggle { position: absolute; top: 20px; right: 20px; cursor: pointer; font-size: 20px; }
    </style>
</head>
<body data-theme="dark">

<nav>
    <div class="nav-item active" onclick="show('vat', this)" title="VAT">üí∞</div>
    <div class="nav-item" onclick="show('gold', this)" title="Gold">ü•á</div>
    <div class="nav-item" onclick="show('loan', this)" title="Loan">üè¶</div>
    <div class="nav-item" onclick="show('student', this)" title="Student">üéì</div>
    <div class="nav-item" onclick="show('games', this)" title="Games">üéÆ</div>
</nav>

<main>
    <div class="theme-toggle" onclick="document.body.setAttribute('data-theme', document.body.getAttribute('data-theme') === 'dark' ? 'light' : 'dark')">üåì</div>

    <div class="calc-card">
        <div id="vat" class="section active">
            <h1>VAT Pro</h1>
            <p>Financial tax calculator</p>
            <div class="grid">
                <input type="number" id="v-n" placeholder="Net Amount" class="full">
                <input type="number" id="v-r" value="20" placeholder="Rate %">
                <input type="text" id="v-res" placeholder="Total" disabled style="color:var(--primary)">
            </div>
            <button onclick="document.getElementById('v-res').value = (document.getElementById('v-n').value * (1 + document.getElementById('v-r').value/100)).toFixed(2)">Calculate</button>
        </div>

        <div id="student" class="section">
            <h1>Student Hub</h1>
            <p>GPA & Grade Predictor</p>
            <div class="grid">
                <input type="number" id="s-m" placeholder="Marks Obtained" class="full">
                <input type="number" id="s-t" placeholder="Total Marks" class="full">
                <div class="full" id="s-res" style="text-align:center; font-size:20px; color:var(--primary); font-weight:600"></div>
            </div>
            <button onclick="calcGrade()">Get Grade</button>
        </div>

        <div id="games" class="section">
            <h1>Game Zone</h1>
            <p>Retro Snake - High Score: <span id="score">0</span></p>
            <canvas id="snakeGame" width="300" height="300"></canvas>
            <div class="game-ctrl">Use Arrow Keys or WASD to Play</div>
            <button onclick="startSnake()">Start / Restart Game</button>
        </div>

        <div id="gold" class="section"><h1>Gold Calc</h1><p>Coming Soon...</p></div>
        <div id="loan" class="section"><h1>Loan Calc</h1><p>Coming Soon...</p></div>
    </div>
</main>

<script>
    function show(id, el) {
        document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
        document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        el.classList.add('active');
        if(id !== 'games') stopSnake();
    }

    function calcGrade() {
        const m = document.getElementById('s-m').value;
        const t = document.getElementById('s-t').value;
        const per = (m/t) * 100;
        let g = per >= 90 ? 'A+' : per >= 80 ? 'A' : per >= 70 ? 'B' : per >= 60 ? 'C' : 'F';
        document.getElementById('s-res').innerText = `Percentage: ${per.toFixed(1)}% | Grade: ${g}`;
    }

    // SNAKE GAME LOGIC
    const canvas = document.getElementById("snakeGame");
    const ctx = canvas.getContext("2d");
    let snake, food, dx, dy, score, gameInterval;

    function startSnake() {
        clearInterval(gameInterval);
        snake = [{x: 150, y: 150}];
        food = {x: 100, y: 100};
        dx = 10; dy = 0; score = 0;
        gameInterval = setInterval(drawSnake, 100);
    }

    function stopSnake() { clearInterval(gameInterval); }

    function drawSnake() {
        const head = {x: snake[0].x + dx, y: snake[0].y + dy};
        snake.unshift(head);
        if(head.x === food.x && head.y === food.y) {
            score += 10; document.getElementById('score').innerText = score;
            food = {x: Math.floor(Math.random()*29)*10, y: Math.floor(Math.random()*29)*10};
        } else { snake.pop(); }

        if(head.x<0 || head.x>290 || head.y<0 || head.y>290) return startSnake();

        ctx.fillStyle = "black"; ctx.fillRect(0,0,300,300);
        ctx.fillStyle = "#00f2ff"; snake.forEach(p => ctx.fillRect(p.x, p.y, 9, 9));
        ctx.fillStyle = "#ff0070"; ctx.fillRect(food.x, food.y, 9, 9);
    }

    window.addEventListener("keydown", e => {
        if(e.key === "ArrowUp" && dy === 0) { dx = 0; dy = -10; }
        if(e.key === "ArrowDown" && dy === 0) { dx = 0; dy = 10; }
        if(e.key === "ArrowLeft" && dx === 0) { dx = -10; dy = 0; }
        if(e.key === "ArrowRight" && dx === 0) { dx = 10; dy = 0; }
    });
</script>
</body>
</html>